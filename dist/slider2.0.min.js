!function(e,t,n){"function"==typeof define&&define.amd?define(["jquery"],function(i){return n(i,e,t),i.mobile}):n(e.jQuery,e,t)}(this,document,function(e,t,n,i){!function(e,t,n,i){function a(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function o(t,n){var o,s,r,c,l,u,d,h,p,g=t.type;if(t=e.Event(t),t.type=n,o=t.originalEvent,s=e.event.props,g.search(/^(mouse|click)/)>-1&&(s=I),o)for(d=s.length,c;d;)c=s[--d],t[c]=o[c];if(g.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1),g.search(/^touch/)!==-1&&(r=a(o),g=r.touches,l=r.changedTouches,u=g&&g.length?g[0]:l&&l.length?l[0]:i,u))for(h=0,p=M.length;h<p;h++)c=M[h],t[c]=u[c];return t}function s(t){for(var n,i,a={};t;){n=e.data(t,T);for(i in n)n[i]&&(a[i]=a.hasVirtualBinding=!0);t=t.parentNode}return a}function r(t,n){for(var i;t;){if(i=e.data(t,T),i&&(!n||i[n]))return t;t=t.parentNode}return null}function c(){L=!1}function l(){L=!0}function u(){q=0,z.length=0,A=!1,l()}function d(){c()}function h(){p(),P=setTimeout(function(){P=0,u()},e.vmouse.resetTimerDuration)}function p(){P&&(clearTimeout(P),P=0)}function g(t,n,i){var a;return(i&&i[t]||!i&&r(n.target,t))&&(a=o(n,t),e(n.target).trigger(a)),a}function f(t){var n,i=e.data(t.target,y);!A&&(!q||q!==i)&&(n=g("v"+t.type,t),n&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation()))}function v(t){var n,i,o,r=a(t).touches;r&&1===r.length&&(n=t.target,i=s(n),i.hasVirtualBinding&&(q=U++,e.data(n,y,q),p(),d(),X=!1,o=a(t).touches[0],Y=o.pageX,E=o.pageY,g("vmouseover",t,i),g("vmousedown",t,i)))}function m(e){L||(X||g("vmousecancel",e,s(e.target)),X=!0,h())}function w(t){if(!L){var n=a(t).touches[0],i=X,o=e.vmouse.moveDistanceThreshold,r=s(t.target);X=X||Math.abs(n.pageX-Y)>o||Math.abs(n.pageY-E)>o,X&&!i&&g("vmousecancel",t,r),g("vmousemove",t,r),h()}}function b(e){if(!L){l();var t,n,i=s(e.target);g("vmouseup",e,i),X||(t=g("vclick",e,i),t&&t.isDefaultPrevented()&&(n=a(e).changedTouches[0],z.push({touchID:q,x:n.clientX,y:n.clientY}),A=!0)),g("vmouseout",e,i),X=!1,h()}}function S(t){var n,i=e.data(t,T);if(i)for(n in i)if(i[n])return!0;return!1}function $(){}function C(t){var n=t.substr(1);return{setup:function(){S(this)||e.data(this,T,{});var i=e.data(this,T);i[t]=!0,V[t]=(V[t]||0)+1,1===V[t]&&R.bind(n,f),e(this).bind(n,$),B&&(V.touchstart=(V.touchstart||0)+1,1===V.touchstart&&R.bind("touchstart",v).bind("touchend",b).bind("touchmove",w).bind("scroll",m))},teardown:function(){--V[t],V[t]||R.unbind(n,f),B&&(--V.touchstart,V.touchstart||R.unbind("touchstart",v).unbind("touchmove",w).unbind("touchend",b).unbind("scroll",m));var i=e(this),a=e.data(this,T);a&&(a[t]=!1),i.unbind(n,$),S(this)||i.removeData(T)}}}var D,k,T="virtualMouseBindings",y="virtualTouchID",x="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),M="clientX clientY pageX pageY screenX screenY".split(" "),F=e.event.mouseHooks?e.event.mouseHooks.props:[],I=e.event.props.concat(F),V={},P=0,Y=0,E=0,X=!1,z=[],A=!1,L=!1,B="addEventListener"in n,R=e(n),U=1,q=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},k=0;k<x.length;k++)e.event.special[x[k]]=C(x[k]);B&&n.addEventListener("click",function(t){var n,i,a,o,s,r,c=z.length,l=t.target;if(c)for(n=t.clientX,i=t.clientY,D=e.vmouse.clickDistanceThreshold,a=l;a;){for(o=0;o<c;o++)if(s=z[o],r=0,a===l&&Math.abs(s.x-n)<D&&Math.abs(s.y-i)<D||e.data(a,y)===s.touchID)return t.preventDefault(),void t.stopPropagation();a=a.parentNode}},!0)}(e,t,n),function(e){e.mobile={}}(e),function(e,t){var i={touch:"ontouchend"in n};e.mobile.support=e.mobile.support||{},e.extend(e.support,i),e.extend(e.mobile.support,i)}(e),function(e,t,i){function a(t,n,a,o){var s=a.type;a.type=n,o?e.event.trigger(a,i,t):e.event.dispatch.call(t,a),a.type=s}var o=e(n),s=e.mobile.support.touch,r="touchmove scroll",c=s?"touchstart":"mousedown",l=s?"touchend":"mouseup",u=s?"touchmove":"mousemove";e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)}),e.event.special.scrollstart={enabled:!0,setup:function(){function t(e,t){n=t,a(o,n?"scrollstart":"scrollstop",e)}var n,i,o=this,s=e(o);s.bind(r,function(a){e.event.special.scrollstart.enabled&&(n||t(a,!0),clearTimeout(i),i=setTimeout(function(){t(a,!1)},50))})},teardown:function(){e(this).unbind(r)}},e.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function(){var t=this,n=e(t),i=!1;n.bind("vmousedown",function(s){function r(){clearTimeout(u)}function c(){r(),n.unbind("vclick",l).unbind("vmouseup",r),o.unbind("vmousecancel",c)}function l(e){c(),i||d!==e.target?i&&e.preventDefault():a(t,"tap",e)}if(i=!1,s.which&&1!==s.which)return!1;var u,d=s.target;n.bind("vmouseup",r).bind("vclick",l),o.bind("vmousecancel",c),u=setTimeout(function(){e.event.special.tap.emitTapOnTaphold||(i=!0),a(t,"taphold",e.Event("taphold",{target:d}))},e.event.special.tap.tapholdThreshold)})},teardown:function(){e(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),o.unbind("vmousecancel")}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function(e){var n=t.pageXOffset,i=t.pageYOffset,a=e.clientX,o=e.clientY;return 0===e.pageY&&Math.floor(o)>Math.floor(e.pageY)||0===e.pageX&&Math.floor(a)>Math.floor(e.pageX)?(a-=n,o-=i):(o<e.pageY-i||a<e.pageX-n)&&(a=e.pageX-n,o=e.pageY-i),{x:a,y:o}},start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y],origin:e(t.target)}},stop:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t,i=e.event.special.swipe.getLocation(n);return{time:(new Date).getTime(),coords:[i.x,i.y]}},handleSwipe:function(t,n,i,o){if(n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold){var s=t.coords[0]>n.coords[0]?"swipeleft":"swiperight";return a(i,"swipe",e.Event("swipe",{target:o,swipestart:t,swipestop:n}),!0),a(i,s,e.Event(s,{target:o,swipestart:t,swipestop:n}),!0),!0}return!1},eventInProgress:!1,setup:function(){var t,n=this,i=e(n),a={};t=e.data(this,"mobile-events"),t||(t={length:0},e.data(this,"mobile-events",t)),t.length++,t.swipe=a,a.start=function(t){if(!e.event.special.swipe.eventInProgress){e.event.special.swipe.eventInProgress=!0;var i,s=e.event.special.swipe.start(t),r=t.target,c=!1;a.move=function(t){s&&!t.isDefaultPrevented()&&(i=e.event.special.swipe.stop(t),c||(c=e.event.special.swipe.handleSwipe(s,i,n,r),c&&(e.event.special.swipe.eventInProgress=!1)),Math.abs(s.coords[0]-i.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},a.stop=function(){c=!0,e.event.special.swipe.eventInProgress=!1,o.off(u,a.move),a.move=null},o.on(u,a.move).one(l,a.stop)}},i.on(c,a.start)},teardown:function(){var t,n;t=e.data(this,"mobile-events"),t&&(n=t.swipe,delete t.swipe,t.length--,0===t.length&&e.removeData(this,"mobile-events")),n&&(n.start&&e(this).off(c,n.start),n.move&&o.off(u,n.move),n.stop&&o.off(l,n.stop))}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)},teardown:function(){e(this).unbind(n)}}})}(e,this)}),$(document).ready(function(){eaeSlider()});var eaeGlobalSettings={changeDuration:500,changeDelay:0,changeMode:"slide",imageCrop:"cover",imagePos:"center center",descColor:"#696969",descFontSize:"20px",descPadding:20,descWidth:"100%",enableCtrl:"false",ctrlColor:"rgba(255, 255, 255, 0.75)",ctrlWidth:"50px",ctrlHeight:"100%",ctrlLeftUrl:"",ctrlRightUrl:"",enableTouch:"true",bgColor:"transparent"},eaeSettings={},eaeRestore=function(){eaeSettings=jQuery.extend({},eaeGlobalSettings)},eaeSlider=function(){eaeRestore(),$(".eaeSlider").each(function(){var e=[],t=[],n=[],i=uniqId(),a='.eaeSlider[eae-id="'+i+'"]',o=0,s="";$(this).attr("eae-id",i);var r=$(this).attr("eae-settings");r&&eaeUniqueSettings(r),$(a+" img").each(function(){e.push($(this).attr("src")),t.push($(this).attr("eae-link")),n.push($(this).attr("eae-desc")),$(this).remove(),o++}),eaeBuildViewfinder(a,o),"slide"==eaeSettings.changeMode?(eaeBuildContainer(a,o),s=a+" .eaeContainer"):s=a+" .eaeViewFinder",eaeBuildSlides(t,e,n,s,i,o,a),"true"===eaeSettings.enableCtrl&&eaeAddArrows(a,i),"true"===eaeSettings.enableTouch&&eaeAddTouch(a,i),eaeSettings.changeDelay>0&&("slide"==eaeSettings.changeMode?eaeAddAutoChange(a,i,"slide"):eaeAddAutoChange(a,i,"fade")),eaeRestore()})},eaeChange=function(e,t,n){var i='.eaeSlider[eae-id="'+e+'"]',a=$(i+" .eaeViewFinder").attr("eae-pos"),o=$(i+" .eaeViewFinder").attr("eae-count");switch(n?a++:a--,a){case-1:case o-0:return;case o-1:$(i+" .eaeCtrlRight").hide(),$(i+" .eaeViewFinder").attr("eae-dir",1);break;case 0:$(i+" .eaeCtrlLeft").hide(),$(i+" .eaeViewFinder").attr("eae-dir",0);break;default:$(i+" .eaeCtrl").show()}"slide"==t?changeMove(a,i,o):changeFade(a,i,o),$(i+" .eaeViewFinder").attr("eae-pos",a)},changeMove=function(e,t,n){$(t+" .eaeContainer").css("left","-"+100*e+"%")},changeFade=function(e,t,n){$(t+" .eaeImgSlide").css({opacity:"0","z-index":"1"}),$(t+" #eae-s"+e).css({opacity:"1","z-index":"2"})},eaeAddArrows=function(e,t){$(e+" .eaeViewFinder").append("<div class='eaeCtrl eaeCtrlLeft'></div><div class='eaeCtrl eaeCtrlRight'></div>"),$(e+" .eaeCtrl").css({position:"absolute",top:"50%",width:eaeSettings.ctrlWidth,height:eaeSettings.ctrlHeight,"background-color":eaeSettings.ctrlColor,"background-position":"center center","background-size":"50%","background-repeat":"no-repeat",cursor:"pointer",transform:"translateY(-50%)","-webkit-transform":"translateY(-50%)","-ms-transform":"translateY(-50%)","z-index":"3"}),$(e+" .eaeCtrlLeft").css({left:"0px","background-image":"url("+eaeSettings.ctrlLeftUrl+")",display:"none"}),$(e+" .eaeCtrlRight").css({right:"0px","background-image":"url("+eaeSettings.ctrlRightUrl+")"}),"slide"==eaeSettings.changeMode?($(e+" .eaeCtrlRight").on("click",function(){eaeChange(t,"slide",!0)}),$(e+" .eaeCtrlLeft").on("click",function(){eaeChange(t,"slide",!1)})):($(e+" .eaeCtrlRight").on("click",function(){eaeChange(t,"fade",!0)}),$(e+" .eaeCtrlLeft").on("click",function(){eaeChange(t,"fade",!1)}))},eaeAddTouch=function(e,t){"slide"==eaeSettings.changeMode?($(e+" .eaeViewFinder").on("swipeleft",function(){eaeChange(t,"slide",!0)}),$(e+" .eaeViewFinder").on("swiperight",function(){eaeChange(t,"slide",!1)})):($(e+" .eaeViewFinder").on("swiperight",function(){eaeChange(t,"fade",!1)}),$(e+" .eaeViewFinder").on("swipeleft",function(){eaeChange(t,"fade",!0)}))},eaeAddAutoChange=function(e,t,n){setInterval(function(){var i=$(e+" .eaeViewFinder").attr("eae-dir");0==i?eaeChange(t,n,!0):eaeChange(t,n,!1)},eaeSettings.changeDelay)},eaeBuildViewfinder=function(e,t){$(e).append('<div class="eaeViewFinder" eae-count="'+t+'" eae-pos="0" eae-dir="0"></div>'),$(e+" .eaeViewFinder").css({height:"100%",width:"100%",position:"relative",overflow:"hidden","background-color":eaeSettings.bgColor})},eaeBuildContainer=function(e,t){$(e+" .eaeViewFinder").append('<div class="eaeContainer"></div>'),$(e+" .eaeContainer").css({transition:"all "+eaeSettings.changeDuration+"ms ease","-webkit-transition":"all "+eaeSettings.changeDuration+"ms ease","-moz-transition":"all "+eaeSettings.changeDuration+"ms ease","-ms-transition":"all "+eaeSettings.changeDuration+"ms ease","-o-transition":"all "+eaeSettings.changeDuration+"ms ease",height:"100%",width:100*t+"%",position:"absolute",left:"0%"})},eaeBuildSlides=function(e,t,n,i,a,o,s){var r=!1;$.each(e,function(e,a){a?$(i).append('<a class="eaeImgSlide" id="eae-s'+e+'" href="'+a+'"></a>'):$(i).append('<div class="eaeImgSlide" id="eae-s'+e+'"></div>'),n[e]&&($(s+" #eae-s"+e).append('<div class="eaeDescBox"><div class="eaeDesc">'+n[e]+"</div></div>"),r=!0),$(s+" #eae-s"+e).css({"background-image":"url("+t[e]+")","background-position":eaeSettings.imagePos,"background-size":eaeSettings.imageCrop,"background-repeat":"no-repeat","text-decoration":"none"})}),r&&($(s+" .eaeDescBox").css({width:"100%",height:"100%",position:"relative"}),$(s+" .eaeDesc").css({bottom:"0px",position:"absolute","background-color":eaeSettings.ctrlColor,padding:eaeSettings.descPadding+"px",color:eaeSettings.descColor,"font-size":eaeSettings.descFontSize,width:"calc("+eaeSettings.descWidth+" - "+2*eaeSettings.descPadding+"px)"})),"slide"==eaeSettings.changeMode?$(s+" .eaeImgSlide").css({width:100/o+"%",height:"100%",display:"block","float":"left"}):($(s+" .eaeImgSlide").css("opacity","0"),$(s+" #eae-s0").css("opacity","1"),$(s+" .eaeImgSlide").css({height:"100%",width:"100%",display:"block",position:"absolute",top:"0px",left:"0px",transition:"all "+eaeSettings.changeDuration+"ms ease","-webkit-transition":"all "+eaeSettings.changeDuration+"ms ease","-moz-transition":"all "+eaeSettings.changeDuration+"ms ease","-ms-transition":"all "+eaeSettings.changeDuration+"ms ease","-o-transition":"all "+eaeSettings.changeDuration+"ms ease"}))},eaeUniqueSettings=function(e){var t=e.split(";");$.each(t,function(e,t){var n=t.split(":");eaeSettings[n[0]]=n[1]})},uniqId=function(){return"eae"+Math.round((new Date).getTime()/(100*Math.random()))};